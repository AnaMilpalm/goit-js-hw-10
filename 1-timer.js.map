{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst dateInput = document.querySelector(\"input#datetime-picker\");\nconst startButton = document.querySelector(\"[data-start]\");\nconsole.log(\"üöÄ ~ startButton:\", startButton)\nlet countdownInterval;\n\n// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è flatpickr –Ω–∞ input\nflatpickr(dateInput, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n    const now = new Date();\n\n    if (selectedDate <= now) {\n      iziToast.error({\n        // title: \"Error\",\n        message: \"Please choose a date in the future\",\n      });\n      startButton.disabled = true;\n    } else {\n      startButton.disabled = false;\n    }\n  },\n});\n\n// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —á–∞—Å—É\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, \"0\");\n}\n\n// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n// –û–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É —Ç–∞–π–º–µ—Ä–∞\nfunction updateTimer({ days, hours, minutes, seconds }) {\n  document.querySelector(\"[data-days]\").textContent = addLeadingZero(days);\n  document.querySelector(\"[data-hours]\").textContent = addLeadingZero(hours);\n  document.querySelector(\"[data-minutes]\").textContent = addLeadingZero(minutes);\n  document.querySelector(\"[data-seconds]\").textContent = addLeadingZero(seconds);\n}\n\n// –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞\nstartButton.addEventListener(\"click\", () => {\n  const selectedDate = new Date(dateInput.value);\n  startButton.disabled = true;\n  dateInput.disabled = true;\n\n  countdownInterval = setInterval(() => {\n    const now = new Date();\n    const timeRemaining = selectedDate - now;\n\n    if (timeRemaining <= 0) {\n      clearInterval(countdownInterval);\n      updateTimer({ days: 0, hours: 0, minutes: 0, seconds: 0 });\n      dateInput.disabled = false;\n      return;\n    }\n\n    const timeComponents = convertMs(timeRemaining);\n    updateTimer(timeComponents);\n  }, 1000);\n});\n\n\n"],"names":["dateInput","startButton","countdownInterval","flatpickr","selectedDates","iziToast","addLeadingZero","value","convertMs","ms","days","hours","minutes","seconds","updateTimer","selectedDate","timeRemaining","timeComponents"],"mappings":"sGAMA,MAAMA,EAAY,SAAS,cAAc,uBAAuB,EAC1DC,EAAc,SAAS,cAAc,cAAc,EACzD,QAAQ,IAAI,oBAAqBA,CAAW,EAC5C,IAAIC,EAGJC,EAAUH,EAAW,CACnB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQI,EAAe,CACAA,EAAc,CAAC,GACxB,IAAI,MAGdC,EAAS,MAAM,CAEb,QAAS,oCACjB,CAAO,EACDJ,EAAY,SAAW,IAEvBA,EAAY,SAAW,EAE1B,CACH,CAAC,EAGD,SAASK,EAAeC,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAGA,SAASC,EAAUC,EAAI,CAMrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAGA,SAASC,EAAY,CAAE,KAAAJ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACtD,SAAS,cAAc,aAAa,EAAE,YAAcP,EAAeI,CAAI,EACvE,SAAS,cAAc,cAAc,EAAE,YAAcJ,EAAeK,CAAK,EACzE,SAAS,cAAc,gBAAgB,EAAE,YAAcL,EAAeM,CAAO,EAC7E,SAAS,cAAc,gBAAgB,EAAE,YAAcN,EAAeO,CAAO,CAC/E,CAGAZ,EAAY,iBAAiB,QAAS,IAAM,CAC1C,MAAMc,EAAe,IAAI,KAAKf,EAAU,KAAK,EAC7CC,EAAY,SAAW,GACvBD,EAAU,SAAW,GAErBE,EAAoB,YAAY,IAAM,CAEpC,MAAMc,EAAgBD,EADV,IAAI,KAGhB,GAAIC,GAAiB,EAAG,CACtB,cAAcd,CAAiB,EAC/BY,EAAY,CAAE,KAAM,EAAG,MAAO,EAAG,QAAS,EAAG,QAAS,CAAC,CAAE,EACzDd,EAAU,SAAW,GACrB,MACD,CAED,MAAMiB,EAAiBT,EAAUQ,CAAa,EAC9CF,EAAYG,CAAc,CAC3B,EAAE,GAAI,CACT,CAAC"}